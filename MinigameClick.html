<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ã‚¯ãƒªãƒƒã‚«ãƒ¼ã‚²ãƒ¼ãƒ </title>
  <style>
    body {
      font-family: sans-serif;
      background: #222;
      color: #fff;
      margin: 0;
      padding: 0;
      text-align: center;
    }
    .click-area {
      margin: 2rem auto;
      width: 300px;
      height: 300px;
      background: #444;
      display: flex;
      justify-content: center;
      align-items: center;
      border-radius: 50%;
      cursor: pointer;
      font-size: 24px;
      user-select: none;
      transition: background 0.3s;
    }
    .click-area:hover {
      background: #666;
    }
    .stats, .shop, .settings, .saveslot {
      margin: 1rem auto;
      width: 90%;
      max-width: 500px;
      background: #333;
      padding: 1rem;
      border-radius: 10px;
    }
    .shop-item {
      display: flex;
      justify-content: space-between;
      margin: 0.5rem 0;
    }
    button {
      padding: 0.5rem 1rem;
      background: #555;
      color: #fff;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    button:hover {
      background: #777;
    }
    input[type="file"] {
      color: white;
    }
  </style>
</head>
<body>
  <h1>ğŸ¯ ã‚¯ãƒªãƒƒã‚¯ã‚²ãƒ¼ãƒ </h1>
  <div class="click-area" id="clickArea">ã‚¯ãƒªãƒƒã‚¯ï¼</div>
  <div class="stats">
    <p>ã‚¯ãƒªãƒƒã‚¯æ•°: <span id="clickCount">0</span></p>
    <p>ãƒ¬ãƒ™ãƒ«: <span id="level">1</span></p>
    <p>å®Ÿç¸¾: <span id="achievements">ãªã—</span></p>
  </div>
  <div class="shop">
    <h2>ã‚·ãƒ§ãƒƒãƒ—</h2>
    <div class="shop-item">
      <span>è‡ªå‹•ã‚¯ãƒªãƒƒã‚¯ (+1/ç§’)</span>
      <button onclick="buyItem('autoClick')">è³¼å…¥ (10)</button>
    </div>
  </div>
  <div class="settings">
    <h2>è¨­å®š</h2>
    <button onclick="saveGame()">ğŸ’¾ ã‚»ãƒ¼ãƒ–</button>
    <button onclick="loadGame()">ğŸ“¥ ãƒ­ãƒ¼ãƒ‰</button>
    <button onclick="exportData()">ğŸ“¤ ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ</button>
    <button onclick="importData()">ğŸ“¥ ã‚¤ãƒ³ãƒãƒ¼ãƒˆ</button>
    <button onclick="newGame()">ğŸ” ãƒ‹ãƒ¥ãƒ¼ã‚²ãƒ¼ãƒ </button>
    <button onclick="deleteData()">ğŸ—‘ ãƒ‡ãƒ¼ã‚¿å‰Šé™¤</button>
    <input type="file" id="fileInput" style="display:none" onchange="handleFileUpload(event)">
  </div>
  <div class="saveslot">
    <h2>ã‚¹ãƒ­ãƒƒãƒˆé¸æŠ</h2>
    <button onclick="selectSlot(1)">ã‚¹ãƒ­ãƒƒãƒˆ1</button>
    <button onclick="selectSlot(2)">ã‚¹ãƒ­ãƒƒãƒˆ2</button>
    <button onclick="selectSlot(3)">ã‚¹ãƒ­ãƒƒãƒˆ3</button>
  </div>

  <script>
    let data = {
      click: 0,
      autoClick: 0,
      level: 1,
      achievements: [],
    };
    let currentSlot = 1;
    let clickTimeout = 0;

    function updateUI() {
      document.getElementById('clickCount').textContent = data.click;
      document.getElementById('level').textContent = data.level;
      document.getElementById('achievements').textContent = data.achievements.join(', ') || 'ãªã—';
    }

    function clickHandler() {
      data.click++;
      checkLevel();
      updateUI();
    }

    function buyItem(type) {
      if (type === 'autoClick' && data.click >= 10) {
        data.click -= 10;
        data.autoClick++;
      }
      updateUI();
    }

    function autoClicker() {
      if (data.autoClick) {
        data.click += data.autoClick;
        checkLevel();
        updateUI();
      }
    }

    function checkLevel() {
      let newLevel = Math.floor(data.click / 50) + 1;
      if (newLevel > data.level) {
        data.level = newLevel;
        data.achievements.push(`ãƒ¬ãƒ™ãƒ«${newLevel}é”æˆ`);
      }
    }

    function saveGame() {
      localStorage.setItem('clicker_slot_' + currentSlot, JSON.stringify(data));
      alert('ã‚»ãƒ¼ãƒ–ã—ã¾ã—ãŸ');
    }

    function loadGame() {
      const saved = localStorage.getItem('clicker_slot_' + currentSlot);
      if (saved) {
        data = JSON.parse(saved);
        updateUI();
        alert('ãƒ­ãƒ¼ãƒ‰ã—ã¾ã—ãŸ');
      }
    }

    function exportData() {
      const json = JSON.stringify(data);
      const blob = new Blob([json], {type: 'application/json'});
      const url = URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = `clicker_slot${currentSlot}.json`;
      a.click();
    }

    function importData() {
      document.getElementById('fileInput').click();
    }

    function handleFileUpload(event) {
      const file = event.target.files[0];
      const reader = new FileReader();
      reader.onload = (e) => {
        try {
          const imported = JSON.parse(e.target.result);
          if (typeof imported.click === 'number') {
            data = imported;
            updateUI();
            alert('ã‚¤ãƒ³ãƒãƒ¼ãƒˆæˆåŠŸ');
          } else {
            throw new Error();
          }
        } catch {
          alert('ç„¡åŠ¹ãªãƒ‡ãƒ¼ã‚¿ã§ã™');
        }
      };
      reader.readAsText(file);
    }

    function newGame() {
      if (confirm('ãƒ‹ãƒ¥ãƒ¼ã‚²ãƒ¼ãƒ ã‚’é–‹å§‹ã—ã¾ã™ã‹ï¼Ÿ')) {
        data = { click: 0, autoClick: 0, level: 1, achievements: [] };
        updateUI();
      }
    }

    function deleteData() {
      if (confirm('æœ¬å½“ã«å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ')) {
        localStorage.removeItem('clicker_slot_' + currentSlot);
        newGame();
        alert('ãƒ‡ãƒ¼ã‚¿å‰Šé™¤ã—ã¾ã—ãŸ');
      }
    }

    function selectSlot(n) {
      currentSlot = n;
      loadGame();
    }

    document.getElementById('clickArea').addEventListener('click', clickHandler);
    setInterval(autoClicker, 1000);
    updateUI();
  </script>
</body>
</html>

